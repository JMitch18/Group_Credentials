<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Credentials</title>
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

</head>
<body>
<div style="padding:100px 200px;border: 1px solid #000">
<h1>Update User</h1>
	<form action="/user/update" method="post">
	<div style="padding: 10px;">
	 <input type="hidden" name="id" id="id">
		<label>Group Name : </label> <input type="text" name="group" id="group"><br>
	</div>
	<div style="padding: 10px;">
		<label>Account Name : </label> <input type="text" name="account" id="account"><br>
	</div>
	<div style="padding: 10px;">
		<label>User Name : </label> <input type="text" name="name" id="name"><br>
	</div>
	<div style="padding: 10px;">
		<label>Password : </label> <input type="hidden" name="password" id="password"><br>
	</div>
	<div style="padding: 10px;">
		<input type="button" onclick="updateUser()" value="Update User">
	</div>
	</form>
</div>
	<script>
	function updateUser(){
		$.ajax({
			  type: 'POST',
			  url: $("form").attr("action"),
			  data: $("form").serialize(), 
			  success: function(response) { 
				  alert(response);
				  window.close();
			  },
			});
	}
	
	var url_string = window.location.href
	var url = new URL(url_string);
	var c = url.searchParams.get("id");
	 $.get("/user/"+c,
 	    function(data,status){
		 
			$("#id").val(data.id);
			$("#group").val(data.groupName);
			$("#account").val(data.accountName);
			$("#name").val(data.userName);
			$("#password").val(data.password);
        });
	</script>
</body>
</html>